---
layout  : wiki
title   : BITCOIN NODE - Double Hash
summary : 
date    : 2026-01-12 17:54:32 +0900
updated : 2026-01-12 18:15:24 +0900
tag     : blockchain bitcoin tdd
toc     : true
comment : true
public  : true
parent  : [[/blockchain]]
latex   : true
toy     : Bitcoin
---
* TOC
{:toc}

# BITCOIN NODE - Hash

ë¹„íŠ¸ì½”ì¸ì´ í•„ìš”ë¡œ í•˜ëŠ” ***[í•´ì‹œ í•¨ìˆ˜(Hash Function)](https://klarciel.net/wiki/altorithm/algorithm-hash/)*** ì˜ íŠ¹ì„±ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

| ì†ì„± | ì„¤ëª… | ë¹„íŠ¸ì½”ì¸ì—ì„œì˜ í™œìš© |
|------|------|-------------------|
| **ê²°ì •ë¡ ì  (Deterministic)** | ê°™ì€ ì…ë ¥ â†’ í•­ìƒ ê°™ì€ ì¶œë ¥ | ë¸”ë¡ í•´ì‹œ ì¬í˜„ ê°€ëŠ¥ |
| **ë‹¨ë°©í–¥ (One-way)** | í•´ì‹œ â†’ ì›ë³¸ ë³µì› ë¶ˆê°€ëŠ¥ | ì±„êµ´ìë„ ì—­ì‚° ë¶ˆê°€ |
| **ì¶©ëŒ ì €í•­ì„± (Collision Resistant)** | ë‹¤ë¥¸ ì…ë ¥ â†’ ê°™ì€ í•´ì‹œ ì°¾ê¸° ê·¹ë„ë¡œ ì–´ë ¤ì›€ | íŠ¸ëœì­ì…˜ ìœ„ì¡° ë°©ì§€ |
| **ëˆˆì‚¬íƒœ íš¨ê³¼ (Avalanche Effect)** | ì…ë ¥ 1ë¹„íŠ¸ ë³€ê²½ â†’ ì¶œë ¥ 50% ë³€ê²½ | ë¸”ë¡ ë³€ì¡° ì¦‰ì‹œ ê°ì§€ |
| **ë¹ ë¥¸ ê³„ì‚°** | ê²€ì¦ì€ ë¹¨ë¼ì•¼ í•¨ | ì „ì²´ ë…¸ë“œ ë™ê¸°í™” |

__ì‹¤ì œ ì‚¬ë¡€: ë¸”ë¡ ë³€ì¡° ë¶ˆê°€ëŠ¥ì„±__:

```
Original Block Header:
  Version: 0x01
  Previous Hash: 0x000...000
  Merkle Root: 0x3ba3ed...
  â†’ Block Hash: 000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f
    (19ê°œì˜ ì„ í–‰ 0 ë¹„íŠ¸ = ë‚œì´ë„ ì¦ëª…)

ì•…ì˜ì ì¸ ë³€ì¡° ì‹œë„ (Merkle Root 1ë¹„íŠ¸ë§Œ ë³€ê²½):
  Version: 0x01
  Previous Hash: 0x000...000
  Merkle Root: 0x3ba3ec... (ë§ˆì§€ë§‰ ë¹„íŠ¸ ë³€ê²½)
  â†’ Block Hash: 8c3e9a4f2b7d6e1c0f8a5b9c4d3e2f1a0b9c8d7e6f5a4b3c2d1e0f9a8b7c6d5e
    (ì„ í–‰ 0 ì—†ìŒ = ë‚œì´ë„ ë¯¸ë‹¬, ê±°ë¶€ë¨!)

ğŸ’¡ 1ë¹„íŠ¸ ë³€ê²½ â†’ ì™„ì „íˆ ë‹¤ë¥¸ í•´ì‹œ â†’ ì±„êµ´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ!
```

## The hash functions Bitcoin uses

### SHA-256 (Secure Hash Algorithm 256-bit), Double SHA-256

ë¹„íŠ¸ì½”ì¸ì—ì„œëŠ” ***[SHA-256](https://en.wikipedia.org/wiki/SHA-2)*** ì„ í•­ìƒ ë‘ë²ˆ ì‚¬ìš©(DoubleSHA256) í•œë‹¤. 

ë‘ ë²ˆ í•´ì‹œí•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

ê¸¸ì´ í™•ì¥ ê³µê²©ì€ ì£¼ë¡œ `H(Key || Message)` í˜•íƒœì˜ ***MAC(Message Authentication Code)*** êµ¬ì„±ì—ì„œ ì¹˜ëª…ì ì´ë‹¤.
ë¹„íŠ¸ì½”ì¸ì€ ë¹„ë°€ í‚¤ë¥¼ í•´ì‹œ ì…ë ¥ê°’ìœ¼ë¡œ ì“°ì§€ ì•Šìœ¼ë¯€ë¡œ ì§ì ‘ì ì¸ ìœ„í˜‘ì€ ì•„ë‹ˆì§€ë§Œ, "SHA-256 ì˜ ë‚´ë¶€ ìƒíƒœê°€ ë…¸ì¶œë˜ëŠ” ê²ƒì„ ë§‰ê³ , í–¥í›„ ë°œê²¬ë  ìˆ˜ ìˆëŠ” ëª¨ë“  ì¢…ë¥˜ì˜ í™•ì¥ ê³µê²©ì„ ì›ì²œ ì°¨ë‹¨í•˜ê¸° ìœ„í•´"
Double Hash ë¥¼ ì±„íƒí–ˆë‹¤.  ì¦‰, ***í•œ ë²ˆ ë” í•´ì‹œí•¨ìœ¼ë¡œì¨ ì›ë˜ ë©”ì‹œì§€ì˜ ë‚´ë¶€ ìƒíƒœë¥¼ ì™„ì „íˆ ê°€ë¦¬ëŠ” ê²ƒ***ì´ë‹¤.

```
H1 = SHA256(message)
H2 = SHA256(H1)

# H2ëŠ” ë” ì´ìƒ message ê¸¸ì´, íŒ¨ë”© êµ¬ì¡°, ë‚´ë¶€ ìƒíƒœë¥¼ ì „í˜€ ë“œëŸ¬ë‚´ì§€ ì•ŠìŒ
# ì™„ì „íˆ â€œê³ ì • ê¸¸ì´ ëœë¤ê°’â€ìœ¼ë¡œ ë°”ë€œ
```

__Bitcoin ì—ì„œ Double SHA256ì´ ì‚¬ìš©ë˜ëŠ” ê³³__:

***[ë¸”ë¡ì˜ ì‹ë³„ìì¸ 'ë¸”ë¡ í•´ì‹œ(Block Hash)' ë˜í•œ Double Hash ë¥¼ ì‚¬ìš©](https://klarciel.net/wiki/blockchain/blockchain-merkle-tree/)*** í•œë‹¤.

| ìš©ë„ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **Block Hash** | Proof-of-Work ëŒ€ìƒ | Genesis: `000000000019d6...` |
| **Transaction ID (TXID)** | íŠ¸ëœì­ì…˜ ê³ ìœ  ì‹ë³„ì | `3ba3edfd7a7b12b2...` |
| **Merkle Tree Node** | íŠ¸ëœì­ì…˜ ì§‘ê³„ | ë¶€ëª¨ = H(left\|\|right) |

__ê³µì‹__:

```
DoubleSHA256(x) = SHA-256(SHA-256(x))
```