---
layout  : wiki
title   : Security Group
summary : Inbound, Outbound 규칙
date    : 2022-07-12 15:54:32 +0900
updated : 2022-07-12 20:15:24 +0900
tag     : infra
toc     : true
comment : true
public  : true
parent  : [[/infra]]
latex   : true
---
* TOC
{:toc}
 
## Security Group

- __Inbound__
  - 내부로 들어오는 것
- __Outbound__
  - 외부로 나가는 것

### 웹 계층

> 인바운드 HTTPS 요청을 처리하고 응용 프로그램 계층으로 요청을 중계하는 공개 DMZ 서브넷

| 트래픽  | 유형  |  프로토콜 |  포트 범위  | 원본 | 
|---------|-------|-----------|-------------|------|
|인바운드 |SSH   |TCP | 22 | 베스천 서브넷(클라우드 배포용) |
|인바운드 |HTTP   |TCP | 80 | 인터넷(0.0.0.0/0) |
|인바운드 |HTTPS  |TCP | 443 | 인터넷(0.0.0.0/0) |
|아웃바운드|모든 트래픽| 전체 | 전체 | |

### 응용 프로그램 계층

> Application Server 배포가 상주하는 위치

| 트래픽  | 유형  |  프로토콜 |  포트 범위  | 원본 | 
|---------|-------|-----------|-------------|------|
|인바운드 |SSH   |TCP | 22 | 베스천 서브넷(클라우드 배포용) |
|인바운드 |HTTPS  |TCP | 443 | 웹 계층 서브넷 |
|아웃바운드|모든 트래픽| 전체 | 전체 | |

### 데이터 계층

> PostgreSQL, MySQL 등의 데이터베이스 서버가 상주하는 위치

| 트래픽  | 유형  |  프로토콜 |  포트 범위  | 원본 | 
|---------|-------|-----------|-------------|------|
|인바운드 |SSH   |TCP | 22 | 베스천 서브넷(클라우드 배포용) |
|인바운드 |PostgreSQL  |TCP | 5432 | 응용 프로그램 계층 서브넷 |
|아웃바운드|모든 트래픽| 전체 | 전체 | |

### 베스천

> 배스천 호스트는 관리 액세스를 인증하고 SSH 프로토콜을 통한 트래픽만 허용

| 트래픽  | 유형  |  프로토콜 |  포트 범위  | 원본 | 대상 | 
|---------|-------|-----------|-------------|------|------|
|인바운드 |SSH   |TCP | 22 | 관리 컴퓨터 IP 주소 | |
|인바운드 |SSH   |TCP | 22 |  | 웹 계층 서브넷 |
|아웃바운드|SSH  |TCP | 22 |  | 응용 프로그램 계층 서브넷 |

## Links

- https://help.tableau.com/current/guides/enterprise-deployment/ko-kr/edg_part3.htm